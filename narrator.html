<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Narrator</title>
  <style type="text/css">
    html {
      font-size: 18px;
      background-color: bisque;
    }

    body {
      margin-top: 5%;
    }

    .main {
      max-width: 50%;
      margin: 0 auto;
    }

    .readable {
      font-size: 1.25rem;
      line-height: 1.75rem;
    }
  </style>
</head>

<body>
  <div class="main readable" id="narrator">
    - [Narrator] Pull quotes, where the quote or piece of text is pulled out of the main text block to the left or
    right,
    adds visual, interest of content, and focus to the pulled quote. In this challenge, you'll create dynamic responsive
    pull quotes that floats left and right when possible, and are pulled out of the main content area when there a
    sufficient horizontal space. And there's a small caveat to this challenge. Watch what happens when I reduce the
    width of
    this view here. So right now, the pull quotes are being pulled out of the main content, but when I hit the content
    width, the pull quotes, left and right margins, lock with the content width, so they're not being indented in any
    way,
    shape, or form right now, they're only being pulled out when there's enough space. The pull quotes should align with
    the
    overall content when the viewport is narrow, and be pulled out to the sides when the viewport is wide. To test this,
    change the viewport width, and ensure the pull quotes are being pulled to the side when they're supposed to, and are
    lining up with the main content when the screen is narrow. In the exercise files for this challenge, you'll find a
    series of paragraphs mixed with pull quotes. There's also some basic styling to floats the quotes left and right and
    ensure they are visually different from the paragraphs. And yes, even though we have flex and grid, floats is still
    very
    much a tool we can and should in modern web layouts. And you see, I'm using float here for pull start and pull end
    to
    align the content right now. This is your starting point. Now, you take on this challenge, pause the video here,
    find
    your solution, then come back, hit play, and see how I solve the same challenge. (bouncy upbeat music) The solution
    to
    this challenge requires using some old techniques mixed with some new CSS features. As we start the challenge, the
    layout already has quotes that are indented to the left and right, but as you can see, they're not being pulled out.
    So
    the challenge here focuses on that pulling out feature. You'll also notice that right now, when we're just floating
    the
    content without any custom margins, the content is lining up nicely with the overall content width. So the effect
    that
    we want for smaller screens is already present, what we need to figure out is how to preserve that effect when we
    have
    wider screens. Now, when you work with pull quotes, you have to first figure out how much you want to pull them out
    of
    the main content. And here I have a very basic approach to it. I look at the overall width, so the full width of the
    viewport, then I say, okay, if we take only the available space on left and right, and then divide each of those
    spaces
    in half, then we can pull the quote out to one quarter of the available space. And that's the first clue. We need to
    figure out what that value is, the quarter of the available space. If you scroll to the top of the style sheet,
    you'll
    see I've defined the content width using a custom property here, and that I'm using it down here for max width. That
    content width is 50ch. Now, I want to figure out how much I should indent or pull out these pull quotes, and I'll do
    that in a custom property as well. I'll call that custom property inset. Here, I'll use the calc function to
    calculate
    the width. And what I want to do is say give me 100% of the viewport width, and then subtract the content that gives
    me
    only the available space, and then divide that available space by 4, so I get one quarter of it, which is how much I
    want to indent each of these pull quotes. So first, give me 100vw, that's the full viewport width, minus var
    content-width, there we go, so var content-width / 4. So this will give me 100% of the available space, minus the
    content width, and then divide that by 4. So that's the space that we're looking for, one quarter of the available
    space. Then, I need to indent the content. So down here, we have pull start. That's the pull quote that is on the
    start
    side. So if I add a margin on the left hand side here, we should get an indentation. So I'll say margin-inline-start
    and
    set inset, like that, save that, go back in the browser, and the pull quote is being pulled in the wrong direction.
    That's because the value that's being generated up here is a positive value, but how do I make it negative? I can't
    put
    it like minus in front of a var, that won't work. No, instead I'll change this value up here to say -1 times and
    then
    the value. So that just inverts the value to a negative value. Save that, go back, and look at that. We have the
    left
    indentation. Now, the cool is, since I have this as a custom property, I can do the exact same thing down here for
    pull
    end. So I'll say margin-inline-end, and here again, I want inset, save that. And now, we get a negative margin on
    the
    right hand side, and the pull quote is pulling out to the right. So we have a solution, right? Ah, not quite, 'cause
    watch what happens when I reduce the width here. So everything is fine as long as it's wide, but when we hit the
    width
    of the content, my pull quotes start pulling inwards, which is not what I want. You'll remember in the demo, the
    content
    lines up with the overall content width when we get at the smaller screen. Now, your compulsion is probably to say,
    "Okay, I'll fix this using a media query," and you totally can, but you don't have to, instead you can use the min
    function. So watch this. If I go into margin-inline-start here for pull start, and I say min and then var inset,
    0px,
    save that, go back in my browser, and watch, you see how the content is lining up properly here. And then when I
    pull,
    it starts pulling out. What? So here's what's happening. This min function picks the smallest or most negative value
    from a list of comma separated values. So in this configuration, if the inset value is a negative number, and
    therefore
    smaller than 0, then that value is used. If on the other hand, inset is either 0 or a positive number, then 0 is
    used
    instead. So that means, as long as the inset value is a negative number, we get this pullout, but once we hit 0, so
    the
    margin is 0, then it just stays at 0. That solves the problem for us without a media query. So now, I can do the
    same
    down here. In fact, I can just copy this as it is, and paste it in, save. And now, we have that effect on both of
    our
    pull quotes. So like I said, using some old techniques, negative margins, and some new features, custom properties,
    and
    the min function, we get a solution that works everywhere without media queries.
  </div>

  <script type="text/javascript">
    window.addEventListener('load', function () {
      const fullStopRegex = /\./g;
      const narrator = document.getElementById('narrator');
      narrator.innerHTML = narrator.innerHTML.replace(fullStopRegex, '.<br /><br />');
    });

  </script>
</body>

</html>
